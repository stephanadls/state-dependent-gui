<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    >StateSizedIO.RObject</title
    ><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"
     /><meta http-equiv="Content-Style-Type" content="text/css"
     /><link href="Agda.css" rel="stylesheet" type="text/css"
     /></head
  ><body
  ><pre
    ><a name="1"
      >
</a
      ><a name="2" class="Keyword"
      >module</a
      ><a name="8"
      > </a
      ><a name="9" href="StateSizedIO.RObject.html#1" class="Module"
      >StateSizedIO.RObject</a
      ><a name="29"
      > </a
      ><a name="30" class="Keyword"
      >where</a
      ><a name="35"
      >

</a
      ><a name="37" class="Keyword"
      >open</a
      ><a name="41"
      > </a
      ><a name="42" class="Keyword"
      >import</a
      ><a name="48"
      > </a
      ><a name="49" href="Data.Product.html#1" class="Module"
      >Data.Product</a
      ><a name="61"
      >
</a
      ><a name="62" class="Keyword"
      >open</a
      ><a name="66"
      > </a
      ><a name="67" class="Keyword"
      >import</a
      ><a name="73"
      > </a
      ><a name="74" href="StateSizedIO.Base.html#1" class="Module"
      >StateSizedIO.Base</a
      ><a name="91"
      > </a
      ><a name="92" class="Keyword"
      >public</a
      ><a name="98"
      >
</a
      ><a name="99" class="Comment"
      >{-
--  This definition was probably moved to StateSizedIO.Base
--  and by accident left here. Delete this.
record Interface&#738; : Set&#8321; where
  field
    State&#738;    : Set
    Method&#738;   : State&#738; &#8594; Set
    Result&#738;   : (s : State&#738;) &#8594; (m : Method&#738; s) &#8594; Set
    next&#738;     : (s : State&#738;) &#8594; (m : Method&#738; s) &#8594; Result&#738; s m &#8594; State&#738;
open Interface&#738; public
-}</a
      ><a name="442"
      >

</a
      ><a name="444" class="Comment"
      >--\StateSizedRObjectRInterface</a
      ><a name="474"
      >
</a
      ><a name="475" class="Keyword"
      >record</a
      ><a name="481"
      > </a
      ><a name="482" href="StateSizedIO.RObject.html#482" class="Record"
      >RInterface&#738;</a
      ><a name="493"
      > </a
      ><a name="494" class="Symbol"
      >:</a
      ><a name="495"
      > </a
      ><a name="496" class="PrimitiveType"
      >Set&#8321;</a
      ><a name="500"
      > </a
      ><a name="501" class="Keyword"
      >where</a
      ><a name="506"
      >
  </a
      ><a name="509" class="Keyword"
      >field</a
      ><a name="514"
      >
    </a
      ><a name="519" href="StateSizedIO.RObject.html#519" class="Field"
      >State&#738;</a
      ><a name="525"
      >    </a
      ><a name="529" class="Symbol"
      >:</a
      ><a name="530"
      >  </a
      ><a name="532" class="PrimitiveType"
      >Set</a
      ><a name="535"
      >
    </a
      ><a name="540" href="StateSizedIO.RObject.html#540" class="Field"
      >Method&#738;</a
      ><a name="547"
      >   </a
      ><a name="550" class="Symbol"
      >:</a
      ><a name="551"
      >  </a
      ><a name="553" class="Symbol"
      >(</a
      ><a name="554" href="StateSizedIO.RObject.html#554" class="Bound"
      >s</a
      ><a name="555"
      > </a
      ><a name="556" class="Symbol"
      >:</a
      ><a name="557"
      > </a
      ><a name="558" class="Field"
      >State&#738;</a
      ><a name="564" class="Symbol"
      >)</a
      ><a name="565"
      > </a
      ><a name="566" class="Symbol"
      >&#8594;</a
      ><a name="567"
      > </a
      ><a name="568" class="PrimitiveType"
      >Set</a
      ><a name="571"
      >
    </a
      ><a name="576" href="StateSizedIO.RObject.html#576" class="Field"
      >Result&#738;</a
      ><a name="583"
      >   </a
      ><a name="586" class="Symbol"
      >:</a
      ><a name="587"
      >  </a
      ><a name="589" class="Symbol"
      >(</a
      ><a name="590" href="StateSizedIO.RObject.html#590" class="Bound"
      >s</a
      ><a name="591"
      > </a
      ><a name="592" class="Symbol"
      >:</a
      ><a name="593"
      > </a
      ><a name="594" class="Field"
      >State&#738;</a
      ><a name="600" class="Symbol"
      >)</a
      ><a name="601"
      > </a
      ><a name="602" class="Symbol"
      >&#8594;</a
      ><a name="603"
      > </a
      ><a name="604" class="Symbol"
      >(</a
      ><a name="605" href="StateSizedIO.RObject.html#605" class="Bound"
      >m</a
      ><a name="606"
      > </a
      ><a name="607" class="Symbol"
      >:</a
      ><a name="608"
      > </a
      ><a name="609" class="Field"
      >Method&#738;</a
      ><a name="616"
      > </a
      ><a name="617" href="StateSizedIO.RObject.html#590" class="Bound"
      >s</a
      ><a name="618" class="Symbol"
      >)</a
      ><a name="619"
      > </a
      ><a name="620" class="Symbol"
      >&#8594;</a
      ><a name="621"
      > </a
      ><a name="622" class="PrimitiveType"
      >Set</a
      ><a name="625"
      >
    </a
      ><a name="630" href="StateSizedIO.RObject.html#630" class="Field"
      >next&#738;</a
      ><a name="635"
      >     </a
      ><a name="640" class="Symbol"
      >:</a
      ><a name="641"
      >  </a
      ><a name="643" class="Symbol"
      >(</a
      ><a name="644" href="StateSizedIO.RObject.html#644" class="Bound"
      >s</a
      ><a name="645"
      > </a
      ><a name="646" class="Symbol"
      >:</a
      ><a name="647"
      > </a
      ><a name="648" class="Field"
      >State&#738;</a
      ><a name="654" class="Symbol"
      >)</a
      ><a name="655"
      > </a
      ><a name="656" class="Symbol"
      >&#8594;</a
      ><a name="657"
      > </a
      ><a name="658" class="Symbol"
      >(</a
      ><a name="659" href="StateSizedIO.RObject.html#659" class="Bound"
      >m</a
      ><a name="660"
      > </a
      ><a name="661" class="Symbol"
      >:</a
      ><a name="662"
      > </a
      ><a name="663" class="Field"
      >Method&#738;</a
      ><a name="670"
      > </a
      ><a name="671" href="StateSizedIO.RObject.html#644" class="Bound"
      >s</a
      ><a name="672" class="Symbol"
      >)</a
      ><a name="673"
      > </a
      ><a name="674" class="Symbol"
      >&#8594;</a
      ><a name="675"
      > </a
      ><a name="676" class="Symbol"
      >(</a
      ><a name="677" href="StateSizedIO.RObject.html#677" class="Bound"
      >r</a
      ><a name="678"
      > </a
      ><a name="679" class="Symbol"
      >:</a
      ><a name="680"
      > </a
      ><a name="681" class="Field"
      >Result&#738;</a
      ><a name="688"
      > </a
      ><a name="689" href="StateSizedIO.RObject.html#644" class="Bound"
      >s</a
      ><a name="690"
      > </a
      ><a name="691" href="StateSizedIO.RObject.html#659" class="Bound"
      >m</a
      ><a name="692" class="Symbol"
      >)</a
      ><a name="693"
      > </a
      ><a name="694" class="Symbol"
      >&#8594;</a
      ><a name="695"
      > </a
      ><a name="696" class="Field"
      >State&#738;</a
      ><a name="702"
      >
    </a
      ><a name="707" href="StateSizedIO.RObject.html#707" class="Field"
      >RMethod&#738;</a
      ><a name="715"
      >  </a
      ><a name="717" class="Symbol"
      >:</a
      ><a name="718"
      >  </a
      ><a name="720" class="Symbol"
      >(</a
      ><a name="721" href="StateSizedIO.RObject.html#721" class="Bound"
      >s</a
      ><a name="722"
      > </a
      ><a name="723" class="Symbol"
      >:</a
      ><a name="724"
      > </a
      ><a name="725" class="Field"
      >State&#738;</a
      ><a name="731" class="Symbol"
      >)</a
      ><a name="732"
      > </a
      ><a name="733" class="Symbol"
      >&#8594;</a
      ><a name="734"
      > </a
      ><a name="735" class="PrimitiveType"
      >Set</a
      ><a name="738"
      >
    </a
      ><a name="743" href="StateSizedIO.RObject.html#743" class="Field"
      >RResult&#738;</a
      ><a name="751"
      >  </a
      ><a name="753" class="Symbol"
      >:</a
      ><a name="754"
      >  </a
      ><a name="756" class="Symbol"
      >(</a
      ><a name="757" href="StateSizedIO.RObject.html#757" class="Bound"
      >s</a
      ><a name="758"
      > </a
      ><a name="759" class="Symbol"
      >:</a
      ><a name="760"
      > </a
      ><a name="761" class="Field"
      >State&#738;</a
      ><a name="767" class="Symbol"
      >)</a
      ><a name="768"
      > </a
      ><a name="769" class="Symbol"
      >&#8594;</a
      ><a name="770"
      > </a
      ><a name="771" class="Symbol"
      >(</a
      ><a name="772" href="StateSizedIO.RObject.html#772" class="Bound"
      >m</a
      ><a name="773"
      > </a
      ><a name="774" class="Symbol"
      >:</a
      ><a name="775"
      > </a
      ><a name="776" href="StateSizedIO.RObject.html#707" class="Field"
      >RMethod&#738;</a
      ><a name="784"
      > </a
      ><a name="785" href="StateSizedIO.RObject.html#757" class="Bound"
      >s</a
      ><a name="786" class="Symbol"
      >)</a
      ><a name="787"
      > </a
      ><a name="788" class="Symbol"
      >&#8594;</a
      ><a name="789"
      > </a
      ><a name="790" class="PrimitiveType"
      >Set</a
      ><a name="793"
      >

</a
      ><a name="795" class="Keyword"
      >open</a
      ><a name="799"
      > </a
      ><a name="800" href="StateSizedIO.RObject.html#482" class="Module"
      >RInterface&#738;</a
      ><a name="811"
      > </a
      ><a name="812" class="Keyword"
      >public</a
      ><a name="818"
      >



</a
      ><a name="822" class="Keyword"
      >module</a
      ><a name="828"
      > </a
      ><a name="829" href="StateSizedIO.RObject.html#829" class="Module"
      >_</a
      ><a name="830"
      > </a
      ><a name="831" class="Symbol"
      >(</a
      ><a name="832" href="StateSizedIO.RObject.html#832" class="Bound"
      >I</a
      ><a name="833"
      > </a
      ><a name="834" class="Symbol"
      >:</a
      ><a name="835"
      > </a
      ><a name="836" href="StateSizedIO.RObject.html#482" class="Record"
      >RInterface&#738;</a
      ><a name="847" class="Symbol"
      >)(</a
      ><a name="849" class="Keyword"
      >let</a
      ><a name="852"
      > </a
      ><a name="853" href="StateSizedIO.RObject.html#853" class="Bound"
      >S</a
      ><a name="854"
      > </a
      ><a name="855" class="Symbol"
      >=</a
      ><a name="856"
      > </a
      ><a name="857" href="StateSizedIO.RObject.html#519" class="Field"
      >State&#738;</a
      ><a name="863"
      > </a
      ><a name="864" href="StateSizedIO.RObject.html#832" class="Bound"
      >I</a
      ><a name="865" class="Symbol"
      >)</a
      ><a name="866"
      > </a
      ><a name="867" class="Symbol"
      >(</a
      ><a name="868" class="Keyword"
      >let</a
      ><a name="871"
      > </a
      ><a name="872" href="StateSizedIO.RObject.html#872" class="Bound"
      >M</a
      ><a name="873"
      > </a
      ><a name="874" class="Symbol"
      >=</a
      ><a name="875"
      > </a
      ><a name="876" href="StateSizedIO.RObject.html#540" class="Field"
      >Method&#738;</a
      ><a name="883"
      > </a
      ><a name="884" href="StateSizedIO.RObject.html#832" class="Bound"
      >I</a
      ><a name="885" class="Symbol"
      >)</a
      ><a name="886"
      >
         </a
      ><a name="896" class="Symbol"
      >(</a
      ><a name="897" class="Keyword"
      >let</a
      ><a name="900"
      > </a
      ><a name="901" href="StateSizedIO.RObject.html#901" class="Bound"
      >R</a
      ><a name="902"
      > </a
      ><a name="903" class="Symbol"
      >=</a
      ><a name="904"
      > </a
      ><a name="905" href="StateSizedIO.RObject.html#576" class="Field"
      >Result&#738;</a
      ><a name="912"
      > </a
      ><a name="913" href="StateSizedIO.RObject.html#832" class="Bound"
      >I</a
      ><a name="914" class="Symbol"
      >)</a
      ><a name="915"
      > </a
      ><a name="916" class="Symbol"
      >(</a
      ><a name="917" class="Keyword"
      >let</a
      ><a name="920"
      > </a
      ><a name="921" href="StateSizedIO.RObject.html#921" class="Bound"
      >next</a
      ><a name="925"
      > </a
      ><a name="926" class="Symbol"
      >=</a
      ><a name="927"
      > </a
      ><a name="928" href="StateSizedIO.RObject.html#630" class="Field"
      >next&#738;</a
      ><a name="933"
      > </a
      ><a name="934" href="StateSizedIO.RObject.html#832" class="Bound"
      >I</a
      ><a name="935" class="Symbol"
      >)</a
      ><a name="936"
      >
         </a
      ><a name="946" class="Symbol"
      >(</a
      ><a name="947" class="Keyword"
      >let</a
      ><a name="950"
      > </a
      ><a name="951" href="StateSizedIO.RObject.html#951" class="Bound"
      >RM</a
      ><a name="953"
      > </a
      ><a name="954" class="Symbol"
      >=</a
      ><a name="955"
      > </a
      ><a name="956" href="StateSizedIO.RObject.html#707" class="Field"
      >RMethod&#738;</a
      ><a name="964"
      > </a
      ><a name="965" href="StateSizedIO.RObject.html#832" class="Bound"
      >I</a
      ><a name="966" class="Symbol"
      >)</a
      ><a name="967"
      >
         </a
      ><a name="977" class="Symbol"
      >(</a
      ><a name="978" class="Keyword"
      >let</a
      ><a name="981"
      > </a
      ><a name="982" href="StateSizedIO.RObject.html#982" class="Bound"
      >RR</a
      ><a name="984"
      > </a
      ><a name="985" class="Symbol"
      >=</a
      ><a name="986"
      > </a
      ><a name="987" href="StateSizedIO.RObject.html#743" class="Field"
      >RResult&#738;</a
      ><a name="995"
      > </a
      ><a name="996" href="StateSizedIO.RObject.html#832" class="Bound"
      >I</a
      ><a name="997" class="Symbol"
      >)</a
      ><a name="998"
      >
          </a
      ><a name="1009" class="Keyword"
      >where</a
      ><a name="1014"
      >
  </a
      ><a name="1017" class="Comment"
      >-- A simple object just returns for a method the response</a
      ><a name="1074"
      >
  </a
      ><a name="1077" class="Comment"
      >-- and the object itself</a
      ><a name="1101"
      >
</a
      ><a name="1102" class="Comment"
      >--\StateSizedRObjectRObject</a
      ><a name="1129"
      >
  </a
      ><a name="1132" class="Keyword"
      >record</a
      ><a name="1138"
      > </a
      ><a name="1139" href="StateSizedIO.RObject.html#1139" class="Record"
      >RObject&#738;</a
      ><a name="1147"
      > </a
      ><a name="1148" class="Symbol"
      >(</a
      ><a name="1149" href="StateSizedIO.RObject.html#1149" class="Bound"
      >s</a
      ><a name="1150"
      > </a
      ><a name="1151" class="Symbol"
      >:</a
      ><a name="1152"
      > </a
      ><a name="1153" href="StateSizedIO.RObject.html#853" class="Bound"
      >S</a
      ><a name="1154" class="Symbol"
      >)</a
      ><a name="1155"
      > </a
      ><a name="1156" class="Symbol"
      >:</a
      ><a name="1157"
      > </a
      ><a name="1158" class="PrimitiveType"
      >Set</a
      ><a name="1161"
      > </a
      ><a name="1162" class="Keyword"
      >where</a
      ><a name="1167"
      >
    </a
      ><a name="1172" class="Keyword"
      >coinductive</a
      ><a name="1183"
      > 
    </a
      ><a name="1189" class="Keyword"
      >field</a
      ><a name="1194"
      >
      </a
      ><a name="1201" href="StateSizedIO.RObject.html#1201" class="Field"
      >objectMethod</a
      ><a name="1213"
      >  </a
      ><a name="1215" class="Symbol"
      >:</a
      ><a name="1216"
      >  </a
      ><a name="1218" class="Symbol"
      >(</a
      ><a name="1219" href="StateSizedIO.RObject.html#1219" class="Bound"
      >m</a
      ><a name="1220"
      > </a
      ><a name="1221" class="Symbol"
      >:</a
      ><a name="1222"
      > </a
      ><a name="1223" href="StateSizedIO.RObject.html#872" class="Bound"
      >M</a
      ><a name="1224"
      > </a
      ><a name="1225" href="StateSizedIO.RObject.html#1149" class="Bound"
      >s</a
      ><a name="1226" class="Symbol"
      >)</a
      ><a name="1227"
      > </a
      ><a name="1228" class="Symbol"
      >&#8594;</a
      ><a name="1229"
      > </a
      ><a name="1230" href="Data.Product.html#706" class="Function"
      >&#931;[</a
      ><a name="1232"
      > </a
      ><a name="1233" href="StateSizedIO.RObject.html#1233" class="Bound"
      >r</a
      ><a name="1234"
      > </a
      ><a name="1235" href="Data.Product.html#706" class="Function"
      >&#8712;</a
      ><a name="1236"
      > </a
      ><a name="1237" href="StateSizedIO.RObject.html#901" class="Bound"
      >R</a
      ><a name="1238"
      > </a
      ><a name="1239" href="StateSizedIO.RObject.html#1149" class="Bound"
      >s</a
      ><a name="1240"
      > </a
      ><a name="1241" href="StateSizedIO.RObject.html#1219" class="Bound"
      >m</a
      ><a name="1242"
      > </a
      ><a name="1243" href="Data.Product.html#706" class="Function"
      >]</a
      ><a name="1244"
      > </a
      ><a name="1245" href="StateSizedIO.RObject.html#1139" class="Record"
      >RObject&#738;</a
      ><a name="1253"
      > </a
      ><a name="1254" class="Symbol"
      >(</a
      ><a name="1255" href="StateSizedIO.RObject.html#921" class="Bound"
      >next</a
      ><a name="1259"
      > </a
      ><a name="1260" href="StateSizedIO.RObject.html#1149" class="Bound"
      >s</a
      ><a name="1261"
      > </a
      ><a name="1262" href="StateSizedIO.RObject.html#1219" class="Bound"
      >m</a
      ><a name="1263"
      > </a
      ><a name="1264" href="StateSizedIO.RObject.html#1233" class="Bound"
      >r</a
      ><a name="1265" class="Symbol"
      >)</a
      ><a name="1266"
      >
      </a
      ><a name="1273" href="StateSizedIO.RObject.html#1273" class="Field"
      >readerMethod</a
      ><a name="1285"
      >  </a
      ><a name="1287" class="Symbol"
      >:</a
      ><a name="1288"
      >  </a
      ><a name="1290" class="Symbol"
      >(</a
      ><a name="1291" href="StateSizedIO.RObject.html#1291" class="Bound"
      >m</a
      ><a name="1292"
      > </a
      ><a name="1293" class="Symbol"
      >:</a
      ><a name="1294"
      > </a
      ><a name="1295" href="StateSizedIO.RObject.html#951" class="Bound"
      >RM</a
      ><a name="1297"
      > </a
      ><a name="1298" href="StateSizedIO.RObject.html#1149" class="Bound"
      >s</a
      ><a name="1299" class="Symbol"
      >)</a
      ><a name="1300"
      > </a
      ><a name="1301" class="Symbol"
      >&#8594;</a
      ><a name="1302"
      > </a
      ><a name="1303" href="StateSizedIO.RObject.html#982" class="Bound"
      >RR</a
      ><a name="1305"
      > </a
      ><a name="1306" href="StateSizedIO.RObject.html#1149" class="Bound"
      >s</a
      ><a name="1307"
      > </a
      ><a name="1308" href="StateSizedIO.RObject.html#1291" class="Bound"
      >m</a
      ><a name="1309"
      >
  </a
      ><a name="1312" class="Keyword"
      >open</a
      ><a name="1316"
      > </a
      ><a name="1317" href="StateSizedIO.RObject.html#1139" class="Module"
      >RObject&#738;</a
      ><a name="1325"
      > </a
      ><a name="1326" class="Keyword"
      >public</a
      ><a name="1332"
      >




</a
      ><a name="1337" class="Comment"
      >-- Bisimilation for Object&#738;</a
      ><a name="1364"
      >
</a
      ><a name="1365" class="Comment"
      >{-
module Bisim (I : Interface&#738;)
  (let S    = State&#738;  I)
  (let M    = Method&#738; I)
  (let R    = Result&#738; I)
  (let next = next&#738;   I)
  (let O = Object&#738; I)
  where

    mutual

      record _&#8773;_ {s : S} (o o' : O s) : Set where
        coinductive
        field bisimMethod : (m : M s) &#8594; objectMethod o m &#8801;&#215;&#8773; objectMethod o' m

      data _&#8801;&#215;&#8773;_ {s m} : (p p' :  &#931;[ r &#8712; R s m ] O (next s m r)) &#8594; Set where
        bisim : &#8704;{r} (let s' = next s m r) {o o' : O s'} (p : o &#8773; o')
              &#8594; (r , o) &#8801;&#215;&#8773; (r , o')

    open _&#8773;_ public

    refl&#8773; : &#8704;{s} (o : O s) &#8594; o &#8773; o
    bisimMethod (refl&#8773; o) m = bisim (refl&#8773; (proj&#8322; (objectMethod o m)))
-}</a
      ><a name="2005"
      >
</a
      ></pre
    ></body
  ></html
>
